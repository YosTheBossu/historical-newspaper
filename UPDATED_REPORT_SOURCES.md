# העיתון של ההיסטוריה — עדכון דוח מקורות (פברואר 2026)

מסמך זה מעדכן את הדוח הקיים עם הרחבה ממוקדת למקורות שביקשת:
**YNET, NRG, Google News, ONE, Sport5, Walla Sport**.

---

## 1) מקורות חדשות כלליים

### 1.1 YNET
- **אתר:** https://www.ynet.co.il
- **RSS ראשי:** https://www.ynet.co.il/Integration/StoryRss2.xml
- **רכזת RSS:** https://z.ynet.co.il/short/content/RSS/index.html
- **API ציבורי:** לא נמצא API ציבורי רשמי לארכיון היסטורי.

**מה אפשר לאסוף בפועל**
1. כותרת
2. קישור לכתבה
3. תאריך/שעת פרסום
4. תקציר (אם קיים בפיד)
5. קטגוריה (לפי הפיד)

**מגבלות**
- RSS מתאים בעיקר לזרם עדכני, לא לארכיון היסטורי עמוק.
- ארכיון היסטורי דורש סקרייפינג זהיר או הסתמכות על מקורות ארכוב חיצוניים.

**המלצה תפעולית**
- להשתמש ב-RSS לאיסוף יומי שוטף.
- לשלב טבלת `news_raw` עם שמירת HTML מקורי וחותמת זמן לארכוב פנימי.

---

### 1.2 NRG / מקור ראשון
- **מצב נוכחי:** NRG ההיסטורי מוזג/הועבר למעטפת מקור ראשון.
- **דף RSS:** https://www.makorrishon.co.il/nrg/images/nrg/rss/index.php
- **API ציבורי:** לא נמצא API ציבורי רשמי.

**מה אפשר לאסוף בפועל**
1. כותרות וכתובות URL זמינות דרך RSS
2. תוכן היסטורי חלקי דרך ארכיוב רשת (Wayback)

**מגבלות**
- האתר המקורי nrg.co.il אינו פעיל במתכונתו ההיסטורית.
- כיסוי חלקי בלבד לשנים ישנות.

**המלצה תפעולית**
- להשתמש ב-RSS של מקור ראשון לשוטף.
- להשלים היסטוריה דרך Wayback רק לאירועים מרכזיים (לא סריקה רחבה אגרסיבית).

---

### 1.3 Google News
- **שירות:** Google News Aggregation
- **כיסוי ישיר:** בעיקר חדשות עדכניות (חלון זמן מוגבל יחסית).

**אפשרויות גישה מעשיות**
1. **GNews (Python library)** — תמיכה בשפה עברית וסינון טווח תאריכים.
2. **NewsAPI** — API מסחרי (כולל תכנית חינמית מוגבלת).
3. **Mediastack** — תמיכה במדינה `il` וגישה לחדשות.

**מה אפשר לאסוף בפועל**
- כותרת, מקור, לינק, תאריך, תיאור קצר.
- מתאים בעיקר לשכבת “מה קרה לאחרונה בתאריך זה”.

**מגבלות**
- לא תחליף לארכיון היסטורי עמוק של עשרות שנים.

**המלצה תפעולית**
- לשלב כמקור משלים בלבד (Top stories + גיוון מקורות).

---

## 2) מקורות ספורט

### 2.1 ONE.CO.IL
- **אתר:** https://www.one.co.il
- **API ציבורי:** לא נמצא API ציבורי רשמי.
- **גישה זמינה:** סקרייפינג עמודי קטגוריה/כתבה + פידים אם זמינים.

**מה אפשר לאסוף**
- כותרות ספורט, תאריך פרסום, ליגה/ענף, קישור כתבה, קבוצות מוזכרות.

**המלצה**
- לבנות ממפה קטגוריות (כדורגל/כדורסל/נבחרות/בינלאומי) ולסמן מקור כ-`ONE`.

---

### 2.2 Sport5
- **אתר:** https://www.sport5.co.il
- **API ציבורי:** לא נמצא API ציבורי רשמי.
- **גישה זמינה:** סקרייפינג זהיר/פידים לפי זמינות.

**מה אפשר לאסוף**
- כותרת, זמן פרסום, קישור, תגיות ליגה/קבוצה, סוג תוכן (חדשות/טור/וידאו).

**המלצה**
- נרמול אחיד לשדות ספורט: `team_home`, `team_away`, `competition`, `season`.

---

### 2.3 Walla Sport
- **אתר:** https://sport.walla.co.il
- **API ציבורי:** לא נמצא API ציבורי רשמי.
- **גישה זמינה:** סקרייפינג עמודי מדור וכתבות, פידים במידה וזמינים.

**מה אפשר לאסוף**
- כותרת, תאריך, ענף, קישור, תקציר, ישויות (שחקנים/מאמנים/קבוצות).

**המלצה**
- להוסיף מנגנון NER בסיסי בעברית לזיהוי שחקנים וקבוצות לטובת חיפוש עתידי.

---

## 3) אסטרטגיית שילוב מעודכנת (לכל המקורות החדשים)

### שכבה א' — איסוף יומי (Cron)
- משיכת RSS/עמודי מדור מכל מקור כל 30–60 דקות.
- דה-דופליקציה לפי `canonical_url + title_hash + published_at`.

### שכבה ב' — נרמול נתונים
- המרה לסכמה אחידה:
  - `source`
  - `section` (news/sport)
  - `title`
  - `published_at`
  - `url`
  - `summary`
  - `tags`
  - `entities`

### שכבה ג' — דירוג וחשיבות
- דירוג חשיבות 1–5 לפי:
  - מספר מקורות שדיווחו על אותו נושא
  - בולטות בכותרת הראשית
  - התאמה לאירועי "היום בהיסטוריה" הקיימים

### שכבה ד' — העשרה למוצר
- יצירת ניסוח “כותרת עיתון היסטורית”
- השוואת "אז מול היום"
- יצירת תקציר קצר מוכן להצגה באתר

---

## 4) תוספת סכמת DB מומלצת (חדשות + ספורט)

טבלה מוצעת: `media_items`

- `id` UUID
- `source` TEXT (`ynet`, `nrg`, `google_news`, `one`, `sport5`, `walla_sport`)
- `section` TEXT (`news`, `sport`)
- `title` TEXT
- `summary` TEXT
- `url` TEXT UNIQUE
- `published_at` TIMESTAMP
- `lang` TEXT DEFAULT `he`
- `tags` JSONB
- `entities` JSONB
- `importance` INT
- `raw_payload` JSONB
- `created_at` TIMESTAMP DEFAULT now()

אינדקסים:
- `idx_media_items_date` על `published_at`
- `idx_media_items_source` על `source`
- `idx_media_items_tags_gin` על `tags` (GIN)

---

## 5) Cron מעודכן

```cron
# חדשות כלליות (כל שעה)
0 * * * * /usr/bin/python3 /home/user/scripts/collect_news_sources.py

# ספורט (כל 30 דקות בשעות פעילות)
*/30 6-23 * * * /usr/bin/python3 /home/user/scripts/collect_sport_sources.py

# נרמול + דה-דופ + דירוג
15 * * * * /usr/bin/python3 /home/user/scripts/normalize_and_rank.py

# בניית JSON יומי לאתר
0 2 * * * /usr/bin/python3 /home/user/scripts/build_daily_digest.py
```

---

## 6) המלצה פרקטית ליישום מהיר (שבוע אחד)

**יום 1–2**
- חיבור YNET + Google News + ONE.

**יום 3–4**
- חיבור Sport5 + Walla Sport + NRG/מקור ראשון.

**יום 5**
- נרמול סכמה + דה-דופליקציה.

**יום 6**
- דירוג חשיבות + העשרה טקסטואלית קצרה.

**יום 7**
- יצוא JSON יומי + חיבור לתצוגה באתר.

---

## 7) סיכום עדכון

המקורות שביקשת מתאימים מאוד לשכבת "חדשות משלימות" ולשכבת "ספורט יומי".
הם פחות חזקים כארכיון היסטורי עמוק בפני עצמם, ולכן ההמלצה היא:

1. להמשיך לבסס היסטוריה ארוכת טווח על Wikimedia/Wikidata/NLI.
2. להשתמש ב-YNET/NRG/Google News/ONE/Sport5/Walla ל**רענון יומי**, הקשר אקטואלי, ועושר קטגורי.
3. לשמר הכל פנימית ב-DB מהיום הראשון כדי לבנות ארכיון עצמאי לאורך זמן.

